# 🎨 渡劫飞升按钮 UI 指南

## 按钮位置

渡劫飞升按钮位于修为进度条的右侧，与进度条在同一行。

```
┌─────────────────────────────────────────────────────────────┐
│ 修为：795.83万亿⁵/2.45万亿⁵                    +3.7万亿⁴/10天 │ ┌──────┐
│ ████████████████████████████████░░░░░░░░░░░░░░░░ 80%        │ │ 渡劫 │
└─────────────────────────────────────────────────────────────┘ │ 飞升 │
                                                                 └──────┘
┌─────────────────────────────────────────────────────────────┐
│ 战斗经验：789.09万亿⁵/2.11万亿⁵                +3.68万亿⁴/10天 │
│ ████████████████████████████████░░░░░░░░░░░░░░░░ 75%        │
└─────────────────────────────────────────────────────────────┘
```

## 按钮状态

### 1. 可点击状态（黑底白字）

**触发条件**：
- 修为 ≥ 当前境界需求 **且**
- 战斗经验 ≥ 当前境界需求

**视觉效果**：
```
┌──────────┐
│  渡劫    │  ← 黑色背景 (#1a1a1a)
│  飞升    │  ← 白色文字
└──────────┘
```

**交互效果**：
- 鼠标悬停：背景变亮 (#2a2a2a)，轻微上移
- 点击：执行渡劫飞升，可能连续突破多个境界
- 光标：pointer（手型）

### 2. 禁用状态（灰色）

**触发条件**：
- 修为 < 当前境界需求 **或**
- 战斗经验 < 当前境界需求

**视觉效果**：
```
┌──────────┐
│  渡劫    │  ← 灰色背景 (#e0e0e0)
│  飞升    │  ← 灰色文字 (#999)
└──────────┘     透明度 60%
```

**交互效果**：
- 鼠标悬停：无变化
- 点击：无响应
- 光标：not-allowed（禁止）

## 布局细节

### 尺寸规格
```css
按钮宽度：70px（最小宽度）
按钮高度：52px
文字大小：14px
行高：1.2
边框：2px solid
圆角：4px
内边距：16px（左右）、8px（上下）
```

### 间距
```css
按钮与进度条间距：8px（gap-2）
```

### 响应式布局
```html
<div class="flex items-center gap-2">
  <div class="flex-1">
    <!-- 修为进度条 -->
  </div>
  <button class="breakthrough-button">
    <!-- 渡劫飞升按钮 -->
  </button>
</div>
```

## 颜色方案

### 可点击状态
| 元素 | 颜色代码 | 说明 |
|------|---------|------|
| 背景色 | `#1a1a1a` | 深黑色 |
| 文字色 | `#ffffff` | 纯白色 |
| 边框色 | `#333333` | 深灰色 |
| 悬停背景 | `#2a2a2a` | 稍亮的黑色 |
| 悬停边框 | `#444444` | 稍亮的灰色 |

### 禁用状态
| 元素 | 颜色代码 | 说明 |
|------|---------|------|
| 背景色 | `#e0e0e0` | 浅灰色 |
| 文字色 | `#999999` | 中灰色 |
| 边框色 | `#cccccc` | 灰色 |
| 透明度 | `0.6` | 60% |

## 动画效果

### 悬停动画
```css
transition: all 0.3s ease;

/* 悬停时 */
transform: translateY(-1px);
box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
```

### 点击动画
```css
/* 点击时 */
transform: translateY(0);
box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
```

### 状态切换动画
```css
/* 从禁用到可点击 */
transition: all 0.3s ease;
```

## 进度条显示

### 数值格式
```
修为：795.83万亿⁵/2.45万亿⁵
      ↑        ↑   ↑      ↑
      当前值   指数 需求值  指数
```

### 指数说明
- 无指数：< 1万
- ⁴：万亿级别（10^16）
- ⁵：万亿的万倍（10^20）
- ⁶：万亿的亿倍（10^24）

### 速度显示
```
+3.7万亿⁴/10天
 ↑      ↑  ↑
 增长值  指数 时间单位
```

## 完整示例

### 示例1：可以突破
```
┌─────────────────────────────────────────────────┬──────────┐
│ 修为：5000/4191                                  │  渡劫    │ ← 黑底白字
│ +100/秒                                          │  飞升    │
│ ████████████████████████████████████████ 100%   │          │
└─────────────────────────────────────────────────┴──────────┘

┌─────────────────────────────────────────────────────────────┐
│ 战斗经验：5000/4191                                          │
│ +80/秒                                                       │
│ ████████████████████████████████████████ 100%               │
└─────────────────────────────────────────────────────────────┘

状态：✅ 可点击
```

### 示例2：修为不足
```
┌─────────────────────────────────────────────────┬──────────┐
│ 修为：3000/4191                                  │  渡劫    │ ← 灰色
│ +100/秒                                          │  飞升    │
│ ████████████████████████░░░░░░░░░░░░░░░░ 71%    │          │
└─────────────────────────────────────────────────┴──────────┘

┌─────────────────────────────────────────────────────────────┐
│ 战斗经验：5000/4191                                          │
│ +80/秒                                                       │
│ ████████████████████████████████████████ 100%               │
└─────────────────────────────────────────────────────────────┘

状态：❌ 禁用（修为不足）
```

### 示例3：战斗经验不足
```
┌─────────────────────────────────────────────────┬──────────┐
│ 修为：5000/4191                                  │  渡劫    │ ← 灰色
│ +100/秒                                          │  飞升    │
│ ████████████████████████████████████████ 100%   │          │
└─────────────────────────────────────────────────┴──────────┘

┌─────────────────────────────────────────────────────────────┐
│ 战斗经验：3000/4191                                          │
│ +80/秒                                                       │
│ ████████████████████████░░░░░░░░░░░░░░░░ 71%               │
└─────────────────────────────────────────────────────────────┘

状态：❌ 禁用（战斗经验不足）
```

## 实现代码

### HTML 结构
```vue
<div class="flex items-center gap-2">
  <!-- 修为进度条 -->
  <div class="flex-1 bg-teal-100 text-teal-700 px-3 py-1.5 rounded text-xs">
    <div class="flex items-center justify-between mb-1">
      <span>修为：{{ formatNumber(exp) }}/{{ formatNumber(expReq) }}</span>
      <span class="text-green-600">+{{ formatNumber(expSpeed) }}/10天</span>
    </div>
    <div class="w-full bg-teal-200 rounded-full h-1">
      <div class="bg-teal-500 h-1 rounded-full" :style="{ width: expProgress + '%' }"></div>
    </div>
  </div>
  
  <!-- 渡劫飞升按钮 -->
  <button 
    class="breakthrough-button"
    :class="canBreakthrough ? 'breakthrough-active' : 'breakthrough-disabled'"
    :disabled="!canBreakthrough"
    @click="handleBreakthrough"
  >
    渡劫<br/>飞升
  </button>
</div>
```

### CSS 样式
```css
.breakthrough-button {
  min-width: 70px;
  height: 52px;
  line-height: 1.2;
  border: 2px solid;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

.breakthrough-active {
  background-color: #1a1a1a;
  color: white;
  border-color: #333;
  cursor: pointer;
}

.breakthrough-active:hover {
  background-color: #2a2a2a;
  border-color: #444;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
  transform: translateY(-1px);
}

.breakthrough-disabled {
  background-color: #e0e0e0;
  color: #999;
  border-color: #ccc;
  cursor: not-allowed;
  opacity: 0.6;
}
```

## 可访问性

### 键盘支持
- Tab 键：可以聚焦到按钮
- Enter/Space：触发点击（仅在可点击状态）
- 禁用状态：无法聚焦

### 屏幕阅读器
```html
<button 
  aria-label="渡劫飞升"
  :aria-disabled="!canBreakthrough"
  :title="canBreakthrough ? '点击突破至下一境界' : '修为或战斗经验不足'"
>
  渡劫<br/>飞升
</button>
```

## 注意事项

1. **按钮始终显示**：不要根据条件隐藏按钮，只改变状态
2. **状态切换流畅**：使用 CSS transition 实现平滑过渡
3. **防止误点击**：禁用状态下真正禁用按钮，不只是视觉效果
4. **连续突破提示**：点击后如果连续突破多次，在控制台显示详细信息
5. **性能优化**：连续突破最多100次，防止无限循环

## 测试清单

- [ ] 按钮位置正确（修为进度条右侧）
- [ ] 可点击状态样式正确（黑底白字）
- [ ] 禁用状态样式正确（灰色）
- [ ] 悬停效果正常（仅可点击状态）
- [ ] 点击功能正常（可以突破）
- [ ] 禁用状态无法点击
- [ ] 状态切换流畅
- [ ] 连续突破功能正常
- [ ] 响应式布局正常
- [ ] 键盘操作支持
