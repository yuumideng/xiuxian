# ç»Ÿä¸€ä¿®ä»™æ•°å€¼è®¡ç®—ç³»ç»Ÿ

## ğŸ“‹ ç³»ç»Ÿæ¦‚è¿°

ç»Ÿä¸€ä¿®ä»™æ•°å€¼è®¡ç®—ç³»ç»Ÿæ˜¯ä¸€ä¸ªåŸºäº **growthCurve** å¢é•¿æ¨¡å¼çš„é€šç”¨å¢ƒç•Œæ•°å€¼è®¡ç®—æ¡†æ¶ï¼Œç”¨äºç”Ÿæˆæ¸¸æˆä¸­æ‰€æœ‰å¢ƒç•Œçš„ä¿®ä¸ºå’Œæˆ˜æ–—ç»éªŒæ•°å€¼ã€‚

### æ ¸å¿ƒè®¾è®¡ç†å¿µ

1. **ç»ƒæ°”æœŸï¼ˆ1-10çº§ï¼‰**ï¼šä½¿ç”¨åŸå§‹çœŸå®æ•°æ®ï¼Œä½œä¸ºæ•´ä¸ªç³»ç»Ÿçš„åŸºç¡€
2. **å…¶ä»–æ‰€æœ‰å¢ƒç•Œ**ï¼šç»Ÿä¸€ä½¿ç”¨ growthCurve å¢é•¿æ¨¡å¼è®¡ç®—
3. **å¢ƒç•Œåˆå§‹å€¼é©±åŠ¨**ï¼šæ¯ä¸ªå¤§å¢ƒç•Œåªéœ€æä¾›åˆå§‹å€¼ï¼ˆç¬¬1çº§ï¼‰ï¼Œç³»ç»Ÿè‡ªåŠ¨è®¡ç®—åç»­9çº§
4. **ä¸€è‡´æ€§ä¿è¯**ï¼šæ‰€æœ‰å¢ƒç•Œä½¿ç”¨ç›¸åŒçš„å¢é•¿æ›²çº¿ï¼Œç¡®ä¿æ•°å€¼å¹³è¡¡

## ğŸ¯ å¢é•¿æ›²çº¿ï¼ˆgrowthCurveï¼‰

ç³»ç»Ÿä½¿ç”¨9ä¸ªå…³é”®ç‚¹çš„åˆ†æ®µçº¿æ€§æ’å€¼æ›²çº¿ï¼Œæ¨¡æ‹Ÿå¢ƒç•Œå†…çš„éçº¿æ€§å¢é•¿ï¼š

```javascript
growthCurve = [
  { progress: 0.000, ratio: 2.6 },    // ç¬¬1æ¬¡å¢é•¿ - åˆæœŸâ†’åˆæœŸå¤§æˆ
  { progress: 0.125, ratio: 1.9 },    // ç¬¬2æ¬¡å¢é•¿ - åˆæœŸå¤§æˆâ†’åˆæœŸå·…å³°
  { progress: 0.250, ratio: 1.656 },  // ç¬¬3æ¬¡å¢é•¿ - åˆæœŸå·…å³°â†’ä¸­æœŸ
  { progress: 0.375, ratio: 1.533 },  // ç¬¬4æ¬¡å¢é•¿ - ä¸­æœŸâ†’ä¸­æœŸå¤§æˆ
  { progress: 0.500, ratio: 1.450 },  // ç¬¬5æ¬¡å¢é•¿ - ä¸­æœŸå¤§æˆâ†’ä¸­æœŸå·…å³°
  { progress: 0.625, ratio: 1.391 },  // ç¬¬6æ¬¡å¢é•¿ - ä¸­æœŸå·…å³°â†’åæœŸ
  { progress: 0.750, ratio: 1.360 },  // ç¬¬7æ¬¡å¢é•¿ - åæœŸâ†’åæœŸå¤§æˆ
  { progress: 0.875, ratio: 1.318 },  // ç¬¬8æ¬¡å¢é•¿ - åæœŸå¤§æˆâ†’åæœŸå·…å³°
  { progress: 1.000, ratio: 1.3 }     // ç¬¬9æ¬¡å¢é•¿ - åæœŸå·…å³°â†’å¤§åœ†æ»¡
]
```

### å¢é•¿ç‰¹å¾

- **èµ·å§‹æ¯”ä¾‹**ï¼š2.6å€ï¼ˆåˆæœŸå¿«é€Ÿå¢é•¿ï¼‰
- **ç»“æŸæ¯”ä¾‹**ï¼š1.3å€ï¼ˆåæœŸå¹³ç¨³å¢é•¿ï¼‰
- **è¡°å‡æ¨¡å¼**ï¼šå‰æœŸå¿«é€Ÿè¡°å‡ï¼ŒåæœŸç¼“æ…¢è¡°å‡
- **æ•°æ®æ¥æº**ï¼šåŸºäºçµè™šæœŸã€çµé­„æœŸã€çµå©´æœŸçš„çœŸå®æ•°æ®æ‹Ÿåˆ

## ğŸ“ æ–‡ä»¶ç»“æ„

```
xiuxian-game-vue3/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ data/
â”‚   â”‚   â”œâ”€â”€ realm_initial_values.js      # å¢ƒç•Œåˆå§‹å€¼é…ç½®
â”‚   â”‚   â””â”€â”€ complete_realms.js           # å®Œæ•´å¢ƒç•Œä½“ç³»å®šä¹‰
â”‚   â””â”€â”€ system/
â”‚       â””â”€â”€ unified_cultivation_system.js # ç»Ÿä¸€è®¡ç®—ç³»ç»Ÿ
â”œâ”€â”€ test_unified_system.js               # æµ‹è¯•è„šæœ¬
â””â”€â”€ docs/
    â””â”€â”€ UNIFIED_CULTIVATION_SYSTEM.md    # æœ¬æ–‡æ¡£
```

## ğŸ”§ ä½¿ç”¨æ–¹æ³•

### 1. æ·»åŠ æ–°å¢ƒç•Œåˆå§‹å€¼

åœ¨ `src/data/realm_initial_values.js` ä¸­æ·»åŠ ï¼š

```javascript
{
  level: 111,              // å¢ƒç•Œèµ·å§‹ç­‰çº§
  realmName: 'çµç¥',       // å¢ƒç•Œåç§°
  cultivation: æ•°å€¼,       // ä¿®ä¸ºåˆå§‹å€¼
  combat: æ•°å€¼,            // æˆ˜æ–—ç»éªŒåˆå§‹å€¼
  note: 'è¯´æ˜'             // å¤‡æ³¨ï¼ˆå¯é€‰ï¼‰
}
```

### 2. è®¡ç®—å•ä¸ªç­‰çº§æ•°å€¼

```javascript
import { unifiedCultivationSystem } from './src/system/unified_cultivation_system.js';

// è®¡ç®—ä¿®ä¸º
const exp = unifiedCultivationSystem.calculate(95, 'exp');

// è®¡ç®—æˆ˜æ–—ç»éªŒ
const combat = unifiedCultivationSystem.calculate(95, 'combat');
```

### 3. è®¡ç®—æ•´ä¸ªå¢ƒç•Œæ•°å€¼

```javascript
// è®¡ç®—çµé­„æœŸï¼ˆ91-100çº§ï¼‰çš„æ‰€æœ‰æ•°å€¼
const lingpoData = unifiedCultivationSystem.calculateRealm(91);

// è¿”å›æ ¼å¼ï¼š
// [
//   { level: 91, exp: ..., combat: ..., realmName: 'çµé­„', stageName: 'åˆæœŸ', fullName: 'çµé­„åˆæœŸ' },
//   { level: 92, exp: ..., combat: ..., realmName: 'çµé­„', stageName: 'åˆæœŸå¤§æˆ', fullName: 'çµé­„åˆæœŸå¤§æˆ' },
//   ...
// ]
```

### 4. å¯¼å‡ºæ¸¸æˆé…ç½®æ ¼å¼

```javascript
// å¯¼å‡ºä¸ºæ¸¸æˆé…ç½®ä»£ç 
const configCode = unifiedCultivationSystem.exportRealmData(91);
console.log(configCode);

// è¾“å‡ºï¼š
//   // çµé­„æœŸ (91-100çº§)
//   91: { exp: 17103000000000, combat: 14531600000000, realm: "çµé­„", stage: "åˆæœŸ" },
//   92: { exp: 44467800000000, combat: 37782160000000, realm: "çµé­„", stage: "åˆæœŸå¤§æˆ" },
//   ...
```

### 5. æ ¼å¼åŒ–æ•°å­—æ˜¾ç¤º

```javascript
import { utils } from './src/system/unified_cultivation_system.js';

// æ ¼å¼åŒ–æ•°å­—
console.log(utils.formatNumber(17103000000000));  // è¾“å‡º: 1710.3ä¸‡äº¿
console.log(utils.formatNumber(105000000000000000));  // è¾“å‡º: 1.05äº¿äº¿
```

### 6. æ‰“å°å¢ƒç•Œæ•°æ®è¡¨æ ¼

```javascript
// æ‰“å°çµé­„æœŸæ•°æ®è¡¨æ ¼
utils.printRealmTable(91);

// è¾“å‡ºï¼š
// â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
// â•‘  çµé­„æœŸ (91-100çº§) æ•°å€¼è¡¨                                                      â•‘
// â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
// â•‘ ç­‰çº§ â”‚ é˜¶æ®µ           â”‚ ä¿®ä¸ºéœ€æ±‚              â”‚ æˆ˜æ–—ç»éªŒéœ€æ±‚          â•‘
// â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
// â•‘   91 â”‚ åˆæœŸ           â”‚            1710.3ä¸‡äº¿ â”‚            1453.16ä¸‡äº¿ â•‘
// ...
```

## ğŸ“Š å·²é…ç½®å¢ƒç•Œ

å½“å‰ç³»ç»Ÿå·²é…ç½®ä»¥ä¸‹å¢ƒç•Œçš„åˆå§‹å€¼ï¼š

| ç­‰çº§ | å¢ƒç•Œåç§° | ä¿®ä¸ºåˆå§‹å€¼ | æˆ˜æ–—ç»éªŒåˆå§‹å€¼ |
|------|---------|-----------|---------------|
| 1çº§ | ç»ƒæ°” | 4191 | 4191 |
| 81çº§ | çµè™š | 735.9ä¸‡äº¿ | 624.6ä¸‡äº¿ |
| 91çº§ | çµé­„ | 1710.3ä¸‡äº¿ | 1453.16ä¸‡äº¿ |
| 101çº§ | çµå©´ | 1.05äº¿äº¿ | 7674.03ä¸‡äº¿ |

## ğŸ§ª æµ‹è¯•éªŒè¯

è¿è¡Œæµ‹è¯•è„šæœ¬éªŒè¯ç³»ç»Ÿï¼š

```bash
cd xiuxian-game-vue3
node test_unified_system.js
```

æµ‹è¯•å†…å®¹åŒ…æ‹¬ï¼š
1. ç»ƒæ°”æœŸåŸå§‹æ•°æ®éªŒè¯
2. çµè™šæœŸ growthCurve è®¡ç®—
3. çµé­„æœŸ growthCurve è®¡ç®—
4. çµå©´æœŸ growthCurve è®¡ç®—
5. å¢é•¿æ¯”ä¾‹éªŒè¯
6. æ¸¸æˆé…ç½®å¯¼å‡º
7. å·²é…ç½®å¢ƒç•Œåˆ—è¡¨
8. å•ä¸ªç­‰çº§æŸ¥è¯¢

## ğŸ® æ¸¸æˆé›†æˆ

### æ›¿æ¢ç°æœ‰è®¡ç®—ç³»ç»Ÿ

åœ¨æ¸¸æˆä»£ç ä¸­ï¼Œå°†åŸæœ‰çš„è®¡ç®—ç³»ç»Ÿæ›¿æ¢ä¸ºç»Ÿä¸€ç³»ç»Ÿï¼š

```javascript
// æ—§ä»£ç 
import { getRealmRequirements } from '@/data/realms.js';

// æ–°ä»£ç 
import { unifiedCultivationSystem } from '@/system/unified_cultivation_system.js';

// è·å–å‡çº§éœ€æ±‚
const exp = unifiedCultivationSystem.calculate(level, 'exp');
const combat = unifiedCultivationSystem.calculate(level, 'combat');
```

### æ•°å€¼æ ¼å¼åŒ–

```javascript
import { utils } from '@/system/unified_cultivation_system.js';

// åœ¨ç•Œé¢æ˜¾ç¤ºæ—¶æ ¼å¼åŒ–æ•°å­—
const displayExp = utils.formatNumber(player.exp);
```

## ğŸ“ˆ æ‰©å±•æ–°å¢ƒç•Œ

æ·»åŠ æ–°å¢ƒç•Œåªéœ€ä¸¤æ­¥ï¼š

### æ­¥éª¤1ï¼šæ·»åŠ åˆå§‹å€¼

åœ¨ `src/data/realm_initial_values.js` ä¸­æ·»åŠ æ–°å¢ƒç•Œçš„åˆå§‹å€¼ï¼š

```javascript
{
  level: 111,
  realmName: 'çµç¥',
  cultivation: ä½ çš„æ•°å€¼,
  combat: ä½ çš„æ•°å€¼,
  note: 'æ–°å¢å¢ƒç•Œ'
}
```

### æ­¥éª¤2ï¼šéªŒè¯è®¡ç®—

è¿è¡Œæµ‹è¯•éªŒè¯æ–°å¢ƒç•Œçš„æ•°å€¼ï¼š

```javascript
utils.printRealmTable(111);
```

ç³»ç»Ÿä¼šè‡ªåŠ¨ä½¿ç”¨ growthCurve è®¡ç®—è¯¥å¢ƒç•Œçš„å®Œæ•´10çº§æ•°å€¼ï¼

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **å¢ƒç•Œèµ·å§‹ç­‰çº§**ï¼šå¿…é¡»æ˜¯ 1, 11, 21, 31... è¿™æ ·çš„å€¼ï¼ˆæ¯10çº§ä¸€ä¸ªå¤§å¢ƒç•Œï¼‰
2. **åˆå§‹å€¼å¿…å¡«**ï¼šæ¯ä¸ªå¢ƒç•Œçš„ cultivation å’Œ combat éƒ½å¿…é¡»å¤§äº0
3. **ç»ƒæ°”æœŸç‰¹æ®Š**ï¼šç»ƒæ°”æœŸï¼ˆ1-10çº§ï¼‰ä½¿ç”¨åŸå§‹æ•°æ®ï¼Œä¸å— growthCurve å½±å“
4. **æ•°å€¼ä¸€è‡´æ€§**ï¼šæ‰€æœ‰å¢ƒç•Œä½¿ç”¨ç›¸åŒçš„ growthCurveï¼Œç¡®ä¿æ¸¸æˆå¹³è¡¡

## ğŸ” API å‚è€ƒ

### UnifiedCultivationSystem ç±»

#### calculate(level, type)
è®¡ç®—æŒ‡å®šç­‰çº§çš„æ•°å€¼
- **å‚æ•°**ï¼š
  - `level` (number): ç­‰çº§ (1-720)
  - `type` (string): 'exp' æˆ– 'combat'
- **è¿”å›**ï¼š(number) è®¡ç®—ç»“æœ

#### calculateRealm(realmStartLevel)
è®¡ç®—æ•´ä¸ªå¢ƒç•Œçš„æ•°å€¼
- **å‚æ•°**ï¼š
  - `realmStartLevel` (number): å¢ƒç•Œèµ·å§‹ç­‰çº§
- **è¿”å›**ï¼š(Array) 10ä¸ªç­‰çº§çš„å®Œæ•´æ•°æ®

#### exportRealmData(realmStartLevel)
å¯¼å‡ºå¢ƒç•Œæ•°æ®ä¸ºæ¸¸æˆé…ç½®æ ¼å¼
- **å‚æ•°**ï¼š
  - `realmStartLevel` (number): å¢ƒç•Œèµ·å§‹ç­‰çº§
- **è¿”å›**ï¼š(string) æ¸¸æˆé…ç½®ä»£ç 

#### getAllConfiguredRealms()
è·å–æ‰€æœ‰å·²é…ç½®å¢ƒç•Œçš„æ•°å€¼
- **è¿”å›**ï¼š(Array) æ‰€æœ‰å·²é…ç½®å¢ƒç•Œçš„å®Œæ•´æ•°æ®

### utils å·¥å…·å‡½æ•°

#### formatNumber(num)
æ ¼å¼åŒ–æ•°å­—æ˜¾ç¤º
- **å‚æ•°**ï¼š
  - `num` (number): æ•°å­—
- **è¿”å›**ï¼š(string) æ ¼å¼åŒ–åçš„å­—ç¬¦ä¸²

#### printRealmTable(realmStartLevel)
æ‰“å°å¢ƒç•Œæ•°æ®è¡¨æ ¼
- **å‚æ•°**ï¼š
  - `realmStartLevel` (number): å¢ƒç•Œèµ·å§‹ç­‰çº§

#### calculateUpgradeExp(currentLevel, targetLevel)
è®¡ç®—å‡çº§æ‰€éœ€ç»éªŒ
- **å‚æ•°**ï¼š
  - `currentLevel` (number): å½“å‰ç­‰çº§
  - `targetLevel` (number): ç›®æ ‡ç­‰çº§
- **è¿”å›**ï¼š(number) æ‰€éœ€ç»éªŒ

## ğŸ“ æ›´æ–°æ—¥å¿—

### v3.0.0 (2025-10-30)
- âœ¨ åˆ›å»ºç»Ÿä¸€ä¿®ä»™æ•°å€¼è®¡ç®—ç³»ç»Ÿ
- âœ¨ å®ç°åŸºäº growthCurve çš„é€šç”¨è®¡ç®—æ¡†æ¶
- âœ¨ æ”¯æŒ720çº§å¢ƒç•Œä½“ç³»
- âœ¨ æä¾›å®Œæ•´çš„æµ‹è¯•å’Œæ–‡æ¡£

## ğŸ¤ è´¡çŒ®æŒ‡å—

å¦‚æœéœ€è¦è°ƒæ•´ growthCurve æˆ–æ·»åŠ æ–°åŠŸèƒ½ï¼Œè¯·ï¼š

1. ä¿®æ”¹ `src/system/unified_cultivation_system.js`
2. è¿è¡Œ `node test_unified_system.js` éªŒè¯
3. æ›´æ–°æœ¬æ–‡æ¡£

## ğŸ“ æ”¯æŒ

å¦‚æœ‰é—®é¢˜ï¼Œè¯·æŸ¥çœ‹ï¼š
- æµ‹è¯•è„šæœ¬ï¼š`test_unified_system.js`
- ç¤ºä¾‹æ•°æ®ï¼š`src/data/realm_initial_values.js`
- å¢ƒç•Œå®šä¹‰ï¼š`src/data/complete_realms.js`
