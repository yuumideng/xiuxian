# å¤©èµ‹ç³»ç»Ÿè®¾è®¡æ–‡æ¡£

## ğŸ“‹ ç³»ç»Ÿæ¦‚è¿°

å¤©èµ‹ç³»ç»Ÿæ˜¯å½±å“ç©å®¶å±æ€§å’Œæˆé•¿é€Ÿåº¦çš„æ ¸å¿ƒç³»ç»Ÿä¹‹ä¸€ã€‚æ¯ä¸ªç©å®¶æ‹¥æœ‰äº”ç§å¤©èµ‹ï¼Œæ¯ç§å¤©èµ‹å½±å“ä¸åŒçš„å±æ€§ã€‚

## ğŸ¯ å¤©èµ‹ç±»å‹

| å¤©èµ‹ | å›¾æ ‡ | å½±å“å±æ€§ | è¯´æ˜ |
|------|------|----------|------|
| **æ°”æ„Ÿ** | ğŸ’¨ | è¡€é‡ | æå‡ç”Ÿå‘½å€¼ä¸Šé™ |
| **ç¥è¯†** | ğŸ§  | æ”»å‡» | æå‡æ”»å‡»åŠ› |
| **æ ¹éª¨** | ğŸ¦´ | é˜²å¾¡ | æå‡é˜²å¾¡åŠ› |
| **æ‚Ÿæ€§** | ğŸ’¡ | ä¿®ä¸ºä¿®ç‚¼é€Ÿåº¦ + åŠŸæ³•ä¿®ç‚¼é€Ÿåº¦ | æå‡ä¿®ç‚¼æ•ˆç‡ |
| **æœºç¼˜** | ğŸ€ | æˆ˜æ–—ç»éªŒä¿®ç‚¼é€Ÿåº¦ + çµçŸ³è·å–é€Ÿåº¦ | æå‡èµ„æºè·å–æ•ˆç‡ |

### ç‰¹åˆ«è¯´æ˜

- **æ‚Ÿæ€§**ï¼šåŒæ—¶å½±å“ä¸¤ä¸ªå±æ€§ï¼ˆä¿®ä¸ºä¿®ç‚¼é€Ÿåº¦ã€åŠŸæ³•ä¿®ç‚¼é€Ÿåº¦ï¼‰
- **æœºç¼˜**ï¼šåŒæ—¶å½±å“ä¸¤ä¸ªå±æ€§ï¼ˆæˆ˜æ–—ç»éªŒä¿®ç‚¼é€Ÿåº¦ã€çµçŸ³è·å–é€Ÿåº¦ï¼‰
- ä¿®ä¸ºä¿®ç‚¼é€Ÿåº¦ã€åŠŸæ³•ä¿®ç‚¼é€Ÿåº¦ã€æˆ˜æ–—ç»éªŒä¿®ç‚¼é€Ÿåº¦ã€çµçŸ³è·å–é€Ÿåº¦æ˜¯å››ä¸ªç‹¬ç«‹çš„å±æ€§

## ğŸ“Š æˆé•¿è§„åˆ™

### åˆå§‹å€¼
- **å¤©èµ‹ç‚¹æ•°**ï¼šæ¯ç§å¤©èµ‹åˆå§‹ **40 ç‚¹**
- **åˆå§‹åŠ æˆ**ï¼šæ¯ç§å¤©èµ‹æä¾› **1000 åŠ æˆ**

### æˆé•¿æœºåˆ¶
æ¯æ¬¡çªç ´å¤§å¢ƒç•Œï¼ˆç»ƒæ°”â†’ç­‘åŸºâ†’é‡‘ä¸¹â†’å…ƒå©´...ï¼‰æ—¶ï¼š
1. **å¤©èµ‹ç‚¹æ•° +40**
2. **åŠ æˆç¿»å€**ï¼ˆ1000â†’2000â†’4000â†’8000...ï¼‰

### æˆé•¿å…¬å¼

```javascript
// å¤©èµ‹ç‚¹æ•°
å¤©èµ‹ç‚¹æ•° = 40 + (å¢ƒç•Œç´¢å¼• Ã— 40)

// å¢ƒç•Œç´¢å¼•
å¢ƒç•Œç´¢å¼• = Math.floor((level - 1) / 10)
// ç»ƒæ°”(1-10çº§) = 0
// ç­‘åŸº(11-20çº§) = 1
// é‡‘ä¸¹(21-30çº§) = 2
// å…ƒå©´(31-40çº§) = 3
// ...

// åŠ æˆå€ç‡
åŠ æˆå€ç‡ = 1000 Ã— 2^å¢ƒç•Œç´¢å¼•

// å•ä¸ªå¤©èµ‹åŠ æˆ
å¤©èµ‹åŠ æˆ = (å¤©èµ‹ç‚¹æ•° / 40) Ã— åŠ æˆå€ç‡
```

## ğŸ“ˆ å„å¢ƒç•Œå¤©èµ‹æ•°å€¼

| å¢ƒç•Œ | ç­‰çº§èŒƒå›´ | å¢ƒç•Œç´¢å¼• | å¤©èµ‹ç‚¹æ•° | åŠ æˆå€ç‡ | å•ä¸ªå¤©èµ‹åŠ æˆ |
|------|----------|----------|----------|----------|--------------|
| ç»ƒæ°” | 1-10 | 0 | 40 | 1,000 | 1,000 |
| ç­‘åŸº | 11-20 | 1 | 80 | 2,000 | 4,000 |
| é‡‘ä¸¹ | 21-30 | 2 | 120 | 4,000 | 12,000 |
| å…ƒå©´ | 31-40 | 3 | 160 | 8,000 | 32,000 |
| åŒ–ç¥ | 41-50 | 4 | 200 | 16,000 | 80,000 |
| ç‚¼è™š | 51-60 | 5 | 240 | 32,000 | 192,000 |
| åˆä½“ | 61-70 | 6 | 280 | 64,000 | 448,000 |
| å¤§ä¹˜ | 71-80 | 7 | 320 | 128,000 | 1,024,000 |

### è®¡ç®—ç¤ºä¾‹

**ç»ƒæ°”å¢ƒç•Œï¼ˆ40ç‚¹å¤©èµ‹ï¼‰**ï¼š
```
å¤©èµ‹åŠ æˆ = (40 / 40) Ã— 1000 = 1000
```

**ç­‘åŸºå¢ƒç•Œï¼ˆ80ç‚¹å¤©èµ‹ï¼‰**ï¼š
```
å¤©èµ‹åŠ æˆ = (80 / 40) Ã— 2000 = 4000
```

**é‡‘ä¸¹å¢ƒç•Œï¼ˆ120ç‚¹å¤©èµ‹ï¼‰**ï¼š
```
å¤©èµ‹åŠ æˆ = (120 / 40) Ã— 4000 = 12000
```

## ğŸ® æˆ˜æ–—å±æ€§è®¡ç®—

å¤©èµ‹åŠ æˆç›´æ¥å½±å“æˆ˜æ–—å±æ€§çš„è®¡ç®—å…¬å¼ï¼š

```javascript
result = åŸºç¡€å€¼ Ã— (1 + å¢ƒç•Œç³»æ•°) Ã— (1 + å¤©èµ‹åŠ æˆ) Ã— (1 + è½®å›åŠ æˆ) Ã— (1 + æˆ˜æ–—å€ç‡)
```

### å„å±æ€§çš„å¤©èµ‹åŠ æˆ

| æˆ˜æ–—å±æ€§ | å¯¹åº”å¤©èµ‹ | åŠ æˆè®¡ç®— |
|----------|----------|----------|
| è¡€é‡ | æ°”æ„Ÿ | (æ°”æ„Ÿç‚¹æ•° / 40) Ã— åŠ æˆå€ç‡ |
| æ”»å‡» | ç¥è¯† | (ç¥è¯†ç‚¹æ•° / 40) Ã— åŠ æˆå€ç‡ |
| é˜²å¾¡ | æ ¹éª¨ | (æ ¹éª¨ç‚¹æ•° / 40) Ã— åŠ æˆå€ç‡ |
| é€Ÿåº¦ | - | 0ï¼ˆæš‚æ— å¯¹åº”å¤©èµ‹ï¼‰ |
| æš´å‡» | - | 0ï¼ˆæš‚æ— å¯¹åº”å¤©èµ‹ï¼‰ |
| éŸ§æ€§ | - | 0ï¼ˆæš‚æ— å¯¹åº”å¤©èµ‹ï¼‰ |
| é—ªé¿ | - | 0ï¼ˆæš‚æ— å¯¹åº”å¤©èµ‹ï¼‰ |
| å‘½ä¸­ | - | 0ï¼ˆæš‚æ— å¯¹åº”å¤©èµ‹ï¼‰ |

### å®é™…æ•°å€¼ç¤ºä¾‹

**ç»ƒæ°”å¢ƒç•Œï¼ˆ40ç‚¹å¤©èµ‹ï¼ŒåŠ æˆ1000ï¼‰**ï¼š
```
è¡€é‡ = 100 Ã— (1 + 1) Ã— (1 + 1000) Ã— 1 Ã— 1 = 200,200
æ”»å‡» = 20 Ã— (1 + 1) Ã— (1 + 1000) Ã— 1 Ã— 1 = 40,040
é˜²å¾¡ = 10 Ã— (1 + 1) Ã— (1 + 1000) Ã— 1 Ã— 1 = 20,020
```

**ç­‘åŸºå¢ƒç•Œï¼ˆ80ç‚¹å¤©èµ‹ï¼ŒåŠ æˆ4000ï¼‰**ï¼š
```
è¡€é‡ = 100 Ã— (1 + 2) Ã— (1 + 4000) Ã— 1 Ã— 1 = 1,200,300
æ”»å‡» = 20 Ã— (1 + 2) Ã— (1 + 4000) Ã— 1 Ã— 1 = 240,060
é˜²å¾¡ = 10 Ã— (1 + 2) Ã— (1 + 4000) Ã— 1 Ã— 1 = 120,030
```

**é‡‘ä¸¹å¢ƒç•Œï¼ˆ120ç‚¹å¤©èµ‹ï¼ŒåŠ æˆ12000ï¼‰**ï¼š
```
è¡€é‡ = 100 Ã— (1 + 3) Ã— (1 + 12000) Ã— 1 Ã— 1 = 4,800,400
æ”»å‡» = 20 Ã— (1 + 3) Ã— (1 + 12000) Ã— 1 Ã— 1 = 960,080
é˜²å¾¡ = 10 Ã— (1 + 3) Ã— (1 + 12000) Ã— 1 Ã— 1 = 480,040
```

## ğŸš€ ä¿®ç‚¼é€Ÿåº¦åŠ æˆ

### æ‚Ÿæ€§å¤©èµ‹
å½±å“ä¿®ä¸ºä¿®ç‚¼é€Ÿåº¦å’ŒåŠŸæ³•ä¿®ç‚¼é€Ÿåº¦ï¼š

```javascript
ä¿®ä¸ºä¿®ç‚¼é€Ÿåº¦åŠ æˆ = (æ‚Ÿæ€§ç‚¹æ•° / 40) Ã— åŠ æˆå€ç‡
åŠŸæ³•ä¿®ç‚¼é€Ÿåº¦åŠ æˆ = (æ‚Ÿæ€§ç‚¹æ•° / 40) Ã— åŠ æˆå€ç‡
```

**ç¤ºä¾‹**ï¼š
- ç»ƒæ°”ï¼ˆ40ç‚¹æ‚Ÿæ€§ï¼‰ï¼šä¿®ä¸ºé€Ÿåº¦åŠ æˆ = 1000ï¼ŒåŠŸæ³•é€Ÿåº¦åŠ æˆ = 1000
- ç­‘åŸºï¼ˆ80ç‚¹æ‚Ÿæ€§ï¼‰ï¼šä¿®ä¸ºé€Ÿåº¦åŠ æˆ = 4000ï¼ŒåŠŸæ³•é€Ÿåº¦åŠ æˆ = 4000
- é‡‘ä¸¹ï¼ˆ120ç‚¹æ‚Ÿæ€§ï¼‰ï¼šä¿®ä¸ºé€Ÿåº¦åŠ æˆ = 12000ï¼ŒåŠŸæ³•é€Ÿåº¦åŠ æˆ = 12000

### æœºç¼˜å¤©èµ‹
å½±å“æˆ˜æ–—ç»éªŒä¿®ç‚¼é€Ÿåº¦å’ŒçµçŸ³è·å–é€Ÿåº¦ï¼š

```javascript
æˆ˜æ–—ç»éªŒä¿®ç‚¼é€Ÿåº¦åŠ æˆ = (æœºç¼˜ç‚¹æ•° / 40) Ã— åŠ æˆå€ç‡
çµçŸ³è·å–é€Ÿåº¦åŠ æˆ = (æœºç¼˜ç‚¹æ•° / 40) Ã— åŠ æˆå€ç‡
```

**ç¤ºä¾‹**ï¼š
- ç»ƒæ°”ï¼ˆ40ç‚¹æœºç¼˜ï¼‰ï¼šæˆ˜æ–—ç»éªŒé€Ÿåº¦åŠ æˆ = 1000ï¼ŒçµçŸ³é€Ÿåº¦åŠ æˆ = 1000
- ç­‘åŸºï¼ˆ80ç‚¹æœºç¼˜ï¼‰ï¼šæˆ˜æ–—ç»éªŒé€Ÿåº¦åŠ æˆ = 4000ï¼ŒçµçŸ³é€Ÿåº¦åŠ æˆ = 4000
- é‡‘ä¸¹ï¼ˆ120ç‚¹æœºç¼˜ï¼‰ï¼šæˆ˜æ–—ç»éªŒé€Ÿåº¦åŠ æˆ = 12000ï¼ŒçµçŸ³é€Ÿåº¦åŠ æˆ = 12000

## ğŸ’ª æˆ˜æ–—åŠ›æå‡

å¤©èµ‹å¯¹æˆ˜æ–—åŠ›çš„å½±å“éå¸¸æ˜¾è‘—ï¼š

| å¢ƒç•Œ | æ— å¤©èµ‹æˆ˜æ–—åŠ› | æœ‰å¤©èµ‹æˆ˜æ–—åŠ› | æå‡å€ç‡ |
|------|--------------|--------------|----------|
| ç»ƒæ°”ä¸€å±‚ | 50 | 50,050 | 1001.00x |
| ç»ƒæ°”å¤§åœ†æ»¡ | 50 | 50,050 | 1001.00x |
| ç­‘åŸºåˆæœŸ | 75 | 300,075 | 4001.00x |
| ç­‘åŸºå¤§åœ†æ»¡ | 75 | 300,075 | 4001.00x |
| é‡‘ä¸¹åˆæœŸ | 100 | 1,200,100 | 12001.00x |
| é‡‘ä¸¹å¤§åœ†æ»¡ | 100 | 1,200,100 | 12001.00x |
| å…ƒå©´åˆæœŸ | 125 | 4,000,125 | 32001.00x |
| å…ƒå©´å¤§åœ†æ»¡ | 125 | 4,000,125 | 32001.00x |

**ç»“è®º**ï¼šå¤©èµ‹ç³»ç»Ÿæ˜¯æˆ˜æ–—åŠ›çš„æ ¸å¿ƒæ¥æºï¼Œéšç€å¢ƒç•Œæå‡ï¼Œå¤©èµ‹çš„å½±å“å‘ˆæŒ‡æ•°çº§å¢é•¿ã€‚

## ğŸ”§ ç³»ç»Ÿå®ç°

### æ ¸å¿ƒå‡½æ•°

#### 1. è®¡ç®—å¤©èµ‹ç‚¹æ•°
```javascript
function calculateTalentPoints(level, initialPoints = 40) {
  const realmIndex = Math.floor((level - 1) / 10)
  return initialPoints + (realmIndex * 40)
}
```

#### 2. è®¡ç®—åŠ æˆå€ç‡
```javascript
function calculateTalentBonusMultiplier(level) {
  const realmIndex = Math.floor((level - 1) / 10)
  return 1000 * Math.pow(2, realmIndex)
}
```

#### 3. è®¡ç®—å•ä¸ªå¤©èµ‹åŠ æˆ
```javascript
function calculateSingleTalentBonus(talentPoints, level) {
  const bonusMultiplier = calculateTalentBonusMultiplier(level)
  return (talentPoints / 40) * bonusMultiplier
}
```

#### 4. çªç ´æ—¶å‡çº§å¤©èµ‹
```javascript
function upgradeTalentsOnBreakthrough(talents, oldLevel, newLevel) {
  const oldRealmIndex = Math.floor((oldLevel - 1) / 10)
  const newRealmIndex = Math.floor((newLevel - 1) / 10)
  
  if (newRealmIndex > oldRealmIndex) {
    const realmDiff = newRealmIndex - oldRealmIndex
    const pointsIncrease = realmDiff * 40
    
    return {
      qigan: talents.qigan + pointsIncrease,
      shishi: talents.shishi + pointsIncrease,
      gengu: talents.gengu + pointsIncrease,
      wuxing: talents.wuxing + pointsIncrease,
      jiyuan: talents.jiyuan + pointsIncrease
    }
  }
  
  return talents
}
```

### é›†æˆåˆ°æˆ˜æ–—å±æ€§è®¡ç®—

```javascript
function calculateBattleAttributes(player) {
  const level = player.level
  const talents = player.talents
  
  // 1. å¢ƒç•Œç³»æ•°
  const realmCoefficient = Math.floor((level - 1) / 10) + 1
  
  // 2. å¤©èµ‹åŠ æˆ
  const talentBonuses = calculateBattleAttributeBonuses(talents, level)
  
  // 3. è®¡ç®—æœ€ç»ˆå±æ€§
  const finalAttributes = {}
  for (let attr in BASE_ATTRIBUTES) {
    const bonus = talentBonuses[attr] || 0
    const totalMultiplier = (1 + realmCoefficient) * (1 + bonus) * 1 * 1
    finalAttributes[attr] = Math.floor(BASE_ATTRIBUTES[attr] * totalMultiplier)
  }
  
  return finalAttributes
}
```

## ğŸ“ ä½¿ç”¨ç¤ºä¾‹

### åˆå§‹åŒ–å¤©èµ‹
```javascript
import { initializeTalents } from '@/utils/talentSystem.js'

// æ–°ç©å®¶ï¼ˆç»ƒæ°”1å±‚ï¼‰
const talents = initializeTalents(1)
// { qigan: 40, shishi: 40, gengu: 40, wuxing: 40, jiyuan: 40 }
```

### çªç ´æ—¶å‡çº§å¤©èµ‹
```javascript
import { upgradeTalentsOnBreakthrough } from '@/utils/talentSystem.js'

// ä»ç»ƒæ°”10å±‚çªç ´åˆ°ç­‘åŸºåˆæœŸ
let talents = { qigan: 40, shishi: 40, gengu: 40, wuxing: 40, jiyuan: 40 }
talents = upgradeTalentsOnBreakthrough(talents, 10, 11)
// { qigan: 80, shishi: 80, gengu: 80, wuxing: 80, jiyuan: 80 }
```

### è·å–å¤©èµ‹è¯¦æƒ…
```javascript
import { getTalentDetails } from '@/utils/talentSystem.js'

const details = getTalentDetails(talents, level)
console.log(details.talents.qigan)
// {
//   name: 'æ°”æ„Ÿ',
//   description: 'å½±å“è¡€é‡å±æ€§',
//   icon: 'ğŸ’¨',
//   points: 40,
//   bonus: 1000,
//   bonusMultiplier: 1000,
//   affectedAttributes: ['hp']
// }
```

### è®¡ç®—æˆ˜æ–—å±æ€§
```javascript
import { calculateBattleAttributes, calculatePower } from '@/utils/battleCalculator.js'

const player = {
  level: 11,
  talents: { qigan: 80, shishi: 80, gengu: 80, wuxing: 80, jiyuan: 80 }
}

const attributes = calculateBattleAttributes(player)
const power = calculatePower(attributes)

console.log('æˆ˜æ–—åŠ›:', power)
// æˆ˜æ–—åŠ›: 300,075
```

## ğŸ¯ è®¾è®¡ä¼˜åŠ¿

1. **æˆé•¿æ˜ç¡®**ï¼šæ¯ä¸ªå¤§å¢ƒç•Œå¤©èµ‹ç‚¹æ•°+40ï¼ŒåŠ æˆç¿»å€ï¼Œç©å®¶èƒ½æ¸…æ™°æ„ŸçŸ¥è¿›æ­¥
2. **å½±å“æ˜¾è‘—**ï¼šå¤©èµ‹æ˜¯æˆ˜æ–—åŠ›çš„æ ¸å¿ƒæ¥æºï¼Œæå‡å€ç‡å·¨å¤§
3. **å¹³è¡¡æ€§å¥½**ï¼šæŒ‡æ•°å¢é•¿ç¬¦åˆä¿®ä»™å¢ƒç•Œè¶Šé«˜è¶Šå¼ºçš„è®¾å®š
4. **æ‰©å±•æ€§å¼º**ï¼šé¢„ç•™äº†å…¶ä»–å¤©èµ‹ç±»å‹çš„æ‰©å±•ç©ºé—´
5. **æ˜“äºç†è§£**ï¼šè§„åˆ™ç®€å•ï¼Œç©å®¶å®¹æ˜“æŒæ¡

## ğŸ”® åç»­æ‰©å±•æ–¹å‘

### 1. å¤©èµ‹æ´—ç»ƒç³»ç»Ÿ
å…è®¸ç©å®¶é‡æ–°åˆ†é…å¤©èµ‹ç‚¹æ•°ï¼Œå¢åŠ ç­–ç•¥æ€§ã€‚

### 2. ç‰¹æ®Šå¤©èµ‹
æ·»åŠ ç¨€æœ‰å¤©èµ‹ï¼Œæä¾›ç‹¬ç‰¹æ•ˆæœï¼š
- å‰‘é“å¤©èµ‹ï¼šæå‡å‰‘æ³•ä¼¤å®³
- ä¸¹é“å¤©èµ‹ï¼šæå‡ç‚¼ä¸¹æˆåŠŸç‡
- é˜µæ³•å¤©èµ‹ï¼šæå‡é˜µæ³•æ•ˆæœ

### 3. å¤©èµ‹çªç ´
å…è®¸å¤©èµ‹çªç ´ä¸Šé™ï¼Œè·å¾—é¢å¤–åŠ æˆã€‚

### 4. å¤©èµ‹æŠ€èƒ½
é«˜å¤©èµ‹è§£é”ç‰¹æ®ŠæŠ€èƒ½ã€‚

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [æˆ˜æ–—å±æ€§ç³»ç»Ÿ V2.0](./NEW_BATTLE_SYSTEM_V2.md)
- [æˆ˜æ–—ç³»ç»Ÿ](./BATTLE_SYSTEM.md)
- [æˆé•¿é€Ÿç‡ç³»ç»Ÿ](./GROWTH_RATE_SYSTEM.md)

---

**ç‰ˆæœ¬**ï¼š1.0.0  
**æ›´æ–°æ—¥æœŸ**ï¼š2025-10-30  
**ä½œè€…**ï¼šAI Assistant
